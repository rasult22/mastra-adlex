И так у меня есть задача сделать Агента для полного цикла подачи заявки на открытие компании в свободной зоне ОАЭ. (Freezone).

Нужно чтобы агент:
1. Консультировал по всем вопросам на любом этапе подачи заявки.
2. Был в курсе на каком этапе подачи заявки он находится.
3. Имел базу знаний и умный поиск по нему.
4. Умел делать какие то действия??

Сценарии:
1. Пользователь не понимает нужно ли ему это вообще и в целом хочет узнать информацию об открытие компании в ОАЭ
2. Пользователь не может найти свою Business Activity (как может ИИ помочь здесь?)


Agent:
1. Base: Имеет кастомный системный промпт
2. Tools: Может пользоваться инструментами (tools)
3. RC: Есть доступ к Runtime Context, чтобы узнать данные специфичные запросу.
4. Memory: Есть память нескольких типов: история общения, рабочаяя память (недавний контекст), семантические воспоминания (поиск последних сообщений по смыслу).
5. Networks: суб-агенты, возможность решать кому делигировать запрос либо agent либо tool либо workflow.
Networks отличаются от workflow тем что надеется на reasoning от llm в решении задач, а у workflow строгая очередь выполнение шагов.
6. Guardrails: Блокираторы - нужны для того, чтобы фильтровать ненужную инфу или защищаться от promp-injection аттак.

Workflow:
1. Base: Можно определить сложную, структурированную последовательность задач, используя шаги.
Полностью контролируется последовательность, как данные перемещаются между задачами, и что когда исполняется. 
2. Use case: Data pipe, manipulation, transformation between steps.
3. Controls: Suspention, Resumption, Streaming results
4. Workflow state: Общее состояние между степами.
5. Composition: Можно создавать суб-workflows, которые могут быть вызваны из основного workflow.
6. Cloning: Клонирование
7. Запуск: Можно запускать из агентов, инструментов, и mastraClient.
8. Conditionals: Используя .branch() и условие можно выбрать какой степ выполнить следующим.
9. Loop: можно использовать циклы для логики с условием.
10. Agents and Tools: Можно вызывать агента или инструмент внутри шага workflow.

Streaming:
1. Base: Можно стримить результаты не дожидаясь их полного выполнения.

Memory:
1. Base: Управление контекстом агента. (working memory, conversation history, and semantic recall)
2. Working memory: Постоянные данные (имена, предпочтения, цели, другие структурированные данные)
  two types: Thread-scoped - изолировано по thread, Resource-scoped - по всем беседам юзера (resource).
  Custom Templates: можно указать агенту какую информацию собирать о юзере.
3. Conversation history: Недавние сообщения из текущей беседы (можно указать кол-во последних сообщений).
4. Semantic recall: Получает старые сообщения из предыдущих бесед используя семантику. Использует векторный поиск по смыслу текущего контекста (юзает RAG)
5. Threads & Resources: 
  Thread: Глобальный уникальный ID беседы.
  Resource: Пользователь который владеет thread. (Очень важен для resource-scoped memory)
6. Memory Processors: можно модифицировать список сообщений перед тем, как он попадет в контекстное окно агента


RAG:
1. Base: Включение релевантного контекста из своих источников данных.

